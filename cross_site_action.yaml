# cross_site_action.yaml
# 用于定义跨站点操作的配置

# 要执行的操作
# "compare_channel_counts": 比较源和目标站点的渠道总数
# "compare_fields": 比较源和目标渠道的指定字段
# "copy_fields": 将源渠道的指定字段复制到目标渠道
action: "compare_fields"

# 源站点配置
source:
  # 连接配置文件路径
  connection_config: "connection_configs/astaur_api.yaml"
  # 渠道筛选器
  channel_filter:
    # 筛选器逻辑与 query_config.yaml 中的 filters 部分相同
    match_mode: "exact"
    name_filters: ["FreeGemini"]

# 目标站点配置
target:
  # 连接配置文件路径
  connection_config: "connection_configs/sucoi_api.yaml"
  # 渠道筛选器
  channel_filter:
    match_mode: "exact"
    name_filters: ["FreeGemini"]

# "copy_fields" 操作的参数
copy_fields_params:
  # 要复制的字段列表
  fields_to_copy:
    - "models"
    - "group"
  # 复制模式
  # "overwrite": (默认) 覆盖目标字段
  # "append": 将源字段的值附加到目标字段（适用于列表）
  # "remove": 从目标字段中移除源字段的值（适用于列表）
  # "merge": 合并源和目标字典（适用于字典）
  # "delete_keys": 从目标字典中删除源字段中指定的键（适用于字典）
  copy_mode: "overwrite"

# "compare_fields" 操作的参数
compare_fields_params:
  # 要比较的字段列表
  fields_to_compare:
    - "models"